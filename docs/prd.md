# ToDoList PRD (Product Requirements Document)

## 1. 개요
- 목적: 개인용, 로컬 구동, PRD 연습용의 최소 기능(MVP) 투두 리스트 웹앱
- 플랫폼: 웹(브라우저 실행)
- 배포/서버: 서버 없이 로컬 환경에서 동작, 데이터는 `localStorage`에 저장

## 2. 목표와 성공 기준
- 목표: 가볍고 직관적인 UI로 CRUD와 완료 체크가 가능한 최소한의 투두 앱 제공
- 성공 기준(초기):
  - 첫 실행 후 1분 이내에 첫 할 일을 추가하고 완료 체크까지 수행 가능
  - 새로고침 후에도 데이터가 그대로 유지됨
  - 사용자가 5개 이상의 항목을 문제없이 추가/수정/삭제/완료 체크 가능

## 3. 범위(스콥)
- 포함(필수, MVP)
  - Task CRUD: 추가, 수정, 삭제
  - 완료 체크(done) 토글
  - `localStorage` 기반 상태 저장(자동 저장/로드)
  - 기본 UI: 입력창, "추가" 버튼, 리스트(체크박스 + 텍스트 + 삭제 버튼)
  - 완료된 항목 취소선 처리
- 제외(선택/후순위)
  - 필터(전체/완료/미완료)
  - 드래그 앤 드롭 정렬
  - 기한(Date picker) 설정
  - 태그 분류(예: [개인] [학교] [작업])
  - 다크 모드 토글

## 4. 사용자 스토리
- 사용자는 텍스트 입력 후 "추가"를 눌러 새로운 할 일을 생성할 수 있다.
- 사용자는 리스트의 체크박스를 눌러 항목의 완료 상태를 토글할 수 있다.
- 사용자는 항목의 텍스트를 수정할 수 있다.
- 사용자는 삭제 버튼으로 항목을 제거할 수 있다.
- 사용자가 브라우저를 새로고침하거나 닫았다가 다시 열어도 기존 데이터가 유지되어야 한다.

## 5. 기능 요구사항(상세)
### 5.1 추가(Add)
- 입력창에 내용이 있을 때만 추가 가능(빈 문자열은 거부)
- Enter 키 또는 "추가" 버튼으로 항목 생성
- 생성 시 다음 필드 포함: `id`, `text`, `done`, `createdAt`, `updatedAt`

### 5.2 수정(Edit)
- 항목 텍스트를 클릭 시 인라인 편집 가능(또는 별도 편집 버튼)
- 빈 문자열로 저장 시 원복 또는 삭제 여부는 MVP에서는 원복(수정 취소)로 처리
- 수정 완료 시 `updatedAt` 갱신

### 5.3 삭제(Delete)
- 각 항목 우측에 삭제 버튼 제공
- 클릭 시 즉시 삭제(확인 모달은 MVP에서는 생략)

### 5.4 완료 체크(Toggle Done)
- 체크박스 클릭으로 `done` 상태 토글
- `done: true`인 경우 UI에서 취소선 처리
- 토글 시 `updatedAt` 갱신

### 5.5 저장/불러오기(Persistence)
- 모든 변경(Add/Edit/Delete/Toggle) 시 즉시 `localStorage`에 저장
- 앱 로드 시 `localStorage`에서 데이터 파싱/복원
- 저장 키 예: `todolist.tasks.v1`

### 5.6 UI/UX
- 입력창 + "추가" 버튼은 상단 고정
- 리스트 형태: 체크박스, 텍스트(편집 가능), 삭제 버튼
- 키보드 접근성: 입력창에서 Enter로 추가, 편집 중 Enter로 저장, Esc로 취소
- 미니멀 디자인, 가독성 높은 간격과 명확한 터치 타겟(버튼 최소 36px)

## 6. 비기능 요구사항(NFR)
- 성능: 200개 항목까지 체감 성능 저하 없이 동작
- 호환성: 최신 크롬/사파리/엣지의 최신 2버전 내 호환
- 접근성: 기본 키보드 내비게이션 가능, 체크박스 레이블 연계
- 안정성: `localStorage` 불가 환경 탐지 시 사용자에게 안내(저장 불가)

## 7. 데이터 모델
```json
{
  "id": "string (uuid)",
  "text": "string",
  "done": false,
  "createdAt": "ISO8601 string",
  "updatedAt": "ISO8601 string"
}
```
- 전체 저장 구조 예시:
```json
{
  "version": 1,
  "tasks": [
    { "id": "...", "text": "...", "done": false, "createdAt": "...", "updatedAt": "..." }
  ]
}
```

## 8. 상태 및 흐름
- 초기 로드: `localStorage`에서 데이터 로드 → 목록 렌더
- 사용자 입력 → 추가 → 목록에 반영 → 저장
- 체크박스 토글/수정/삭제 → 목록 업데이트 → 저장

## 9. 화면 설계(간단 와이어프레임)
```
[ 입력창                  ][ 추가 ]
-----------------------------------
[ ] 할 일 내용                     (삭제)
[x] 완료된 일(취소선)              (삭제)
[ ] 또 다른 일                     (삭제)
```

## 10. 에러 처리/엣지 케이스
- 빈 문자열 추가/수정 불가 → 사용자에 시각적 피드백(예: 입력창 하단 작은 경고)
- `localStorage` 저장 실패(용량 초과 등) 시 사용자에게 안내 배너 노출
- JSON 파싱 실패 시 안전한 초기화 수행(백업 복구는 MVP 제외)

## 11. 측정 지표(초기)
- 세션 당 평균 추가된 항목 수
- 완료로 전환된 항목 비율
- 새로고침 후 데이터 유지율(수동 테스트 기준)

## 12. 프로젝트 계획(작업 순서)
1) HTML: 입력창, 버튼, 리스트의 기본 구조
2) JS: `addTask`, `deleteTask`, `toggleTask`, `editTask` 구현
3) JS: `localStorage` 저장/불러오기 연결
4) CSS: 미니멀 스타일링(가독성, 취소선, 포커스 스타일)
5) QA: 기본 흐름 점검 및 엣지 케이스 대응

## 13. 로드맵(선택 기능)
- 필터: 전체/완료/미완료
- 드래그 앤 드롭 정렬
- 기한(Date picker) 및 정렬
- 태그 분류 및 검색
- 다크 모드 토글

## 14. 리스크 및 가정
- `localStorage` 용량 제한(대개 5MB 내외) → 데이터 크기 관리 필요
- 여러 기기/브라우저 간 동기화 미지원(의도적 제외)
- 오프라인 우선 설계이므로 네트워크 기능은 없음을 전제로 함

## 15. 오픈 이슈
- 편집 UX를 인라인으로 할지, 모달/별도 입력창을 둘지 최종 결정 필요(MVP는 인라인 권장)
- 삭제 확인 모달 도입 여부(초기 MVP는 즉시 삭제)

---
본 문서는 `docs/draft.md`의 요구사항 초안을 기반으로 MVP 범위를 명확히 하여 구현을 위한 기준점을 제공합니다. 필요 시 섹션을 확장하거나 축소하여 최신 상태로 유지합니다.
